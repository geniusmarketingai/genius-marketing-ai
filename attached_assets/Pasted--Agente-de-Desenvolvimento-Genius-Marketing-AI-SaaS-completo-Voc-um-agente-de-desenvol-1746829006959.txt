# üß† Agente de Desenvolvimento ‚Äì Genius Marketing AI (SaaS completo)

Voc√™ √© um agente de desenvolvimento especializado em aplica√ß√µes SaaS com foco em IA generativa. Sua tarefa √© **construir o MVP completo** da plataforma **Genius Marketing AI**, com base na documenta√ß√£o t√©cnica anexada (PRD, FRD, Fluxogramas, Wireframes, Schema Prisma e Especifica√ß√µes Gerais). Esta aplica√ß√£o √© destinada a ajudar pequenos empreendedores brasileiros a criarem conte√∫do de marketing com o apoio de intelig√™ncia artificial.

## üìå Instru√ß√µes Gerais

- Siga √† risca as defini√ß√µes dos arquivos fornecidos;
- Trabalhe em arquitetura **Next.js (App Router)** com **TailwindCSS**, **Supabase**, **Prisma**, **OpenAI API** e **N8N**;
- Toda a aplica√ß√£o deve ser constru√≠da em **portugu√™s do Brasil**, com foco em **mobile-first**;
- A autentica√ß√£o, banco de dados e pol√≠ticas de seguran√ßa devem utilizar **Supabase com RLS (Row Level Security)**;
- O MVP deve ser funcional, deploy√°vel em ambiente Vercel, com versionamento via GitHub.

---

## üìê Etapas do Desenvolvimento

### 1. üîê Autentica√ß√£o

- Use **Supabase Auth** com login via e-mail (magic link);
- Armazene o token de sess√£o via cookies;
- Implemente pol√≠ticas RLS nas tabelas conforme `auth.uid()`.

### 2. üß≠ Onboarding

- Wizard com 3 etapas:
  - Nicho de atua√ß√£o (dropdown),
  - Persona alvo (input com sugest√µes),
  - Canais de publica√ß√£o (checkboxes);
- Persistir no modelo `UserProfile` com campos `businessType`, `targetPersona`, `channels`.

### 3. üß† Gera√ß√£o de Conte√∫do com IA

- Tipos: `INSTAGRAM_POST`, `BLOG_ARTICLE`, `FACEBOOK_AD`;
- Campos do formul√°rio: objetivo (tr√°fego, vendas, engajamento), tema, tom de voz;
- Cada gera√ß√£o consome 1 cr√©dito (verifique saldo em `Credit`);
- Chamada via OpenAI com par√¢metros ajust√°veis;
- Salvar no Supabase com status e timestamp;
- Retornar preview, salvar, copiar ou regerar;
- Criar estrutura de prompts que respeitem nicho, tom e canal.

### 4. üìö Hist√≥rico

- Listar todos os conte√∫dos gerados com filtros por tipo e data;
- Mostrar t√≠tulo, data, tipo, status, conte√∫do;
- Permitir visualizar, apagar, copiar ou regerar;
- Aplicar RLS para que cada usu√°rio veja apenas seus pr√≥prios conte√∫dos.

### 5. üí≥ Cr√©ditos

- Cada gera√ß√£o = -1 cr√©dito;
- Exibir saldo no dashboard (`credits.amount`);
- Permitir incremento via painel admin ou API (`POST /credits/add`);
- Registrar origem e timestamp.

### 6. üìä M√©tricas

- Exibir:
  - Cr√©ditos restantes,
  - Total de conte√∫dos,
  - Taxa de c√≥pia/exporta√ß√£o,
  - Simula√ß√£o de engajamento;
- Utilizar eventos do PostHog.

### 7. üîå Integra√ß√µes (Fase 2)

- Agendamento via N8N;
- Integra√ß√£o com Meta API, RD Station e Mailchimp;
- Armazenar logs e status no Supabase;
- Validar tokens de API via OAuth.

---

## üõ†Ô∏è Banco de Dados

- Use o **schema Prisma** fornecido com `@@map`, `RLS`, `userId` e relacionamentos;
- Tabelas: `User`, `UserProfile`, `Content`, `Credit`;
- Habilite RLS e crie pol√≠ticas para cada tabela conforme `auth.uid()`.

---

## üì± Interface (Mobile-First)

- Siga os wireframes fornecidos:
  - Telas: Login, Onboarding, Dashboard, Gera√ß√£o, Preview, Hist√≥rico, M√©tricas;
- Layouts responsivos com **TailwindCSS**;
- Bot√µes com a√ß√µes claras (ex: "Gerar com IA üöÄ", "Salvar", "Copiar").

---

## üì¶ APIs

Prefixo `/api`. Endpoints b√°sicos:

- `POST /generate` ‚Äì Chamada para gera√ß√£o de conte√∫do;
- `GET /history` ‚Äì Lista conte√∫dos do usu√°rio;
- `GET /profile` / `PUT /profile` ‚Äì Prefer√™ncias do perfil;
- `POST /credits/add` ‚Äì Cr√©ditos extras (admin);
- `DELETE /content/:id` ‚Äì Excluir conte√∫do.

---

## üß™ Testes e Deploy

- Cobertura de testes unit√°rios >80%;
- Deploy autom√°tico com Vercel;
- Monitoramento via PostHog;
- Dados em tr√¢nsito e repouso devem estar criptografados.

---

## üìà Roadmap de Execu√ß√£o

1. Sprint 1: Auth + Onboarding + Gera√ß√£o IA;
2. Sprint 2: Hist√≥rico + Cr√©ditos + Preview;
3. Sprint 3: M√©tricas + Integra√ß√µes b√°sicas;
4. P√≥s-MVP: Agendamentos, GPT-4 Turbo, Fine-Tuning, multil√≠nguas.

---

## ‚úÖ Lembretes Finais

- Toda a√ß√£o do usu√°rio deve ser logada;
- Use boas pr√°ticas de acessibilidade (WCAG AA);
- Prepare base para internacionaliza√ß√£o futura (i18n-ready);
- Use PostHog, GA4 e Mixpanel para an√°lises.

